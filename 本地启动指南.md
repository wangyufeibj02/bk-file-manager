# æœ¬åœ°å¯åŠ¨æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•æ‰‹åŠ¨åœ¨æœ¬åœ°å¯åŠ¨ç™¾ç§‘äº¤äº’æ–‡ä»¶ç®¡ç†ç³»ç»Ÿã€‚

## ğŸ“‹ å‰ç½®è¦æ±‚

- **Node.js**: ç‰ˆæœ¬ 18 æˆ–æ›´é«˜
- **npm**: é€šå¸¸éš Node.js ä¸€èµ·å®‰è£…
- **Git**: ï¼ˆå¯é€‰ï¼‰ç”¨äºå…‹éš†ä»“åº“

## ğŸš€ å¯åŠ¨æ­¥éª¤

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

#### 1. æ‰“å¼€ç»ˆç«¯/å‘½ä»¤è¡Œ

- **Windows**: æŒ‰ `Win + R`ï¼Œè¾“å…¥ `cmd` æˆ– `powershell`ï¼Œå›è½¦
- **Mac/Linux**: æ‰“å¼€ Terminal

#### 2. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd D:\bk-file-manager
```

#### 3. å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œæˆ–æ›´æ–°ä¾èµ–åï¼‰

```bash
npm install
```

#### 4. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“æ¶æ„
npm run db:push
```

#### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è¿™ä¸ªå‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨ï¼š
- **å‰ç«¯å¼€å‘æœåŠ¡å™¨** (Vite) - é»˜è®¤ç«¯å£ 3000
- **åç«¯æœåŠ¡å™¨** (Express) - é»˜è®¤ç«¯å£ 3001

#### 6. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š
- **å‰ç«¯ç•Œé¢**: http://localhost:3000
- **åç«¯ API**: http://localhost:3001

---

### æ–¹æ³•äºŒï¼šåˆ†åˆ«å¯åŠ¨å‰ç«¯å’Œåç«¯

å¦‚æœä½ æƒ³åˆ†åˆ«å¯åŠ¨å‰ç«¯å’Œåç«¯ï¼ˆä¾‹å¦‚è°ƒè¯•æ—¶ï¼‰ï¼š

#### å¯åŠ¨åç«¯æœåŠ¡å™¨

æ‰“å¼€ç¬¬ä¸€ä¸ªç»ˆç«¯çª—å£ï¼š

```bash
cd D:\bk-file-manager
npm run dev:server
```

åç«¯å°†åœ¨ http://localhost:3001 å¯åŠ¨

#### å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

æ‰“å¼€ç¬¬äºŒä¸ªç»ˆç«¯çª—å£ï¼š

```bash
cd D:\bk-file-manager
npm run dev:client
```

å‰ç«¯å°†åœ¨ http://localhost:3000 å¯åŠ¨

---

### æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ PowerShell è„šæœ¬ï¼ˆWindowsï¼‰

é¡¹ç›®æ ¹ç›®å½•æœ‰ä¸€ä¸ª `start.ps1` è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥åŒå‡»è¿è¡Œï¼Œæˆ–åœ¨ PowerShell ä¸­æ‰§è¡Œï¼š

```powershell
cd D:\bk-file-manager
.\start.ps1
```

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### 1. ç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**: `Error: listen EADDRINUSE: address already in use`

**è§£å†³æ–¹æ³•**:

**Windows**:
```powershell
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :3000
netstat -ano | findstr :3001

# åœæ­¢è¿›ç¨‹ï¼ˆæ›¿æ¢ PID ä¸ºå®é™…è¿›ç¨‹IDï¼‰
taskkill /PID <è¿›ç¨‹ID> /F
```

**Mac/Linux**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:3000
lsof -ti:3001

# åœæ­¢è¿›ç¨‹
kill -9 <è¿›ç¨‹ID>
```

æˆ–è€…ä¿®æ”¹ç«¯å£ï¼ˆåœ¨ `vite.config.ts` å’Œ `server/config.ts` ä¸­ï¼‰

### 2. æ•°æ®åº“é”™è¯¯

**é”™è¯¯ä¿¡æ¯**: `Prisma schema validation error` æˆ–æ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ³•**:
```bash
# é‡æ–°ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npm run db:generate

# é‡ç½®æ•°æ®åº“ï¼ˆæ³¨æ„ï¼šä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰
npx prisma migrate reset

# æˆ–è€…æ¨é€æ¶æ„
npm run db:push
```

### 3. ä¾èµ–å®‰è£…å¤±è´¥

**è§£å†³æ–¹æ³•**:
```bash
# æ¸…é™¤ç¼“å­˜
npm cache clean --force

# åˆ é™¤ node_modules å’Œ package-lock.json
rm -rf node_modules package-lock.json

# é‡æ–°å®‰è£…
npm install
```

### 4. æ‰¾ä¸åˆ°æ¨¡å—é”™è¯¯

**è§£å†³æ–¹æ³•**:
```bash
# ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–
npm install

# å¦‚æœæ˜¯ TypeScript ç›¸å…³é”™è¯¯
npm run db:generate
```

---

## ğŸ“ å¯åŠ¨åçš„æ“ä½œ

### 1. é¦–æ¬¡ç™»å½•

- æ‰“å¼€ http://localhost:3000
- ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•ï¼š
  - ç”¨æˆ·å: `admin`
  - å¯†ç : `bkadmin123`

### 2. ä¿®æ”¹é»˜è®¤å¯†ç 

ç™»å½•åï¼Œå»ºè®®ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼š
- ç‚¹å‡»å³ä¸Šè§’ç”¨æˆ·å¤´åƒ
- é€‰æ‹©"ç”¨æˆ·è®¾ç½®"
- ä¿®æ”¹å¯†ç 

### 3. ä¸Šä¼ æ–‡ä»¶

- ç‚¹å‡»"ä¸Šä¼ "æŒ‰é’®æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°ä¸Šä¼ åŒºåŸŸ
- æ”¯æŒæ‰¹é‡ä¸Šä¼ 
- æ”¯æŒé€‰æ‹©ç›®æ ‡æ–‡ä»¶å¤¹

---

## ğŸ› ï¸ å¼€å‘æ¨¡å¼è¯´æ˜

### çƒ­é‡è½½

- **å‰ç«¯**: Vite ä¼šè‡ªåŠ¨æ£€æµ‹æ–‡ä»¶å˜åŒ–å¹¶åˆ·æ–°æµè§ˆå™¨
- **åç«¯**: tsx watch ä¼šè‡ªåŠ¨é‡å¯æœåŠ¡å™¨

### æŸ¥çœ‹æ—¥å¿—

- **å‰ç«¯æ—¥å¿—**: åœ¨è¿è¡Œ `npm run dev:client` çš„ç»ˆç«¯æŸ¥çœ‹
- **åç«¯æ—¥å¿—**: åœ¨è¿è¡Œ `npm run dev:server` çš„ç»ˆç«¯æŸ¥çœ‹

### åœæ­¢æœåŠ¡å™¨

åœ¨è¿è¡ŒæœåŠ¡å™¨çš„ç»ˆç«¯çª—å£ä¸­æŒ‰ `Ctrl + C`

---

## ğŸ“¦ ç”Ÿäº§ç¯å¢ƒæ„å»º

å¦‚æœéœ€è¦æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š

```bash
# æ„å»ºå‰ç«¯å’Œåç«¯
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»ºï¼ˆä»…å‰ç«¯ï¼‰
npm run preview
```

---

## ğŸ” æ£€æŸ¥æœåŠ¡çŠ¶æ€

### æ£€æŸ¥ç«¯å£æ˜¯å¦åœ¨ç›‘å¬

**Windows**:
```powershell
netstat -ano | findstr ":3000 :3001"
```

**Mac/Linux**:
```bash
lsof -i :3000
lsof -i :3001
```

### æµ‹è¯• API æ˜¯å¦æ­£å¸¸

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
- http://localhost:3001/api/folders ï¼ˆéœ€è¦å…ˆç™»å½•è·å– tokenï¼‰

æˆ–ä½¿ç”¨ curl:
```bash
curl http://localhost:3001/api/folders
```

---

## ğŸ’¡ æç¤º

1. **ä¿æŒç»ˆç«¯çª—å£æ‰“å¼€**: å¼€å‘æœåŠ¡å™¨éœ€è¦ç»ˆç«¯ä¿æŒè¿è¡Œ
2. **æŸ¥çœ‹ç»ˆç«¯è¾“å‡º**: é”™è¯¯ä¿¡æ¯ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­
3. **æ•°æ®åº“æ–‡ä»¶ä½ç½®**: `prisma/dev.db` ï¼ˆSQLite æ•°æ®åº“æ–‡ä»¶ï¼‰
4. **ä¸Šä¼ æ–‡ä»¶ä½ç½®**: `uploads/` ç›®å½•
5. **ç¼©ç•¥å›¾ä½ç½®**: `thumbnails/` ç›®å½•

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥ç»ˆç«¯ä¸­çš„é”™è¯¯ä¿¡æ¯
2. ç¡®è®¤ Node.js ç‰ˆæœ¬ï¼š`node --version` ï¼ˆéœ€è¦ 18+ï¼‰
3. ç¡®è®¤æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼š`npm list`
4. æŸ¥çœ‹é¡¹ç›® README.md äº†è§£æ›´å¤šä¿¡æ¯
