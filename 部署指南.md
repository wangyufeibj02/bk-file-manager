# éƒ¨ç½²æŒ‡å— - å¦‚ä½•è®©æ‰€æœ‰äººè®¿é—®

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•å°†ç™¾ç§‘äº¤äº’æ–‡ä»¶ç®¡ç†ç³»ç»Ÿéƒ¨ç½²åˆ°å…¬ç½‘ï¼Œè®©æ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®ã€‚

## ğŸŒ éƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šVercel éƒ¨ç½²ï¼ˆæ¨èï¼‰â­

Vercel æ”¯æŒå…¨æ ˆåº”ç”¨éƒ¨ç½²ï¼Œå…è´¹ä¸”ç®€å•ã€‚

#### æ­¥éª¤ï¼š

1. **å‡†å¤‡éƒ¨ç½²é…ç½®**

åˆ›å»º `vercel.json` é…ç½®æ–‡ä»¶ï¼š

```json
{
  "version": 2,
  "builds": [
    {
      "src": "server/index.ts",
      "use": "@vercel/node"
    },
    {
      "src": "package.json",
      "use": "@vercel/static-build",
      "config": {
        "distDir": "dist"
      }
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "server/index.ts"
    },
    {
      "src": "/(.*)",
      "dest": "/dist/$1"
    }
  ]
}
```

2. **åœ¨ Vercel éƒ¨ç½²**

   - è®¿é—® https://vercel.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•
   - ç‚¹å‡» "New Project"
   - å¯¼å…¥ `wangyufeibj02/bk-file-manager` ä»“åº“
   - é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚æœéœ€è¦ï¼‰
   - ç‚¹å‡» "Deploy"

3. **è®¿é—®é“¾æ¥**

   éƒ¨ç½²å®Œæˆåï¼ŒVercel ä¼šæä¾›ä¸€ä¸ªå…¬å¼€é“¾æ¥ï¼Œä¾‹å¦‚ï¼š
   ```
   https://bk-file-manager.vercel.app
   ```

---

### æ–¹æ¡ˆäºŒï¼šNetlify éƒ¨ç½²

Netlify ä¹Ÿæ”¯æŒå…¨æ ˆåº”ç”¨ã€‚

#### æ­¥éª¤ï¼š

1. **åˆ›å»º `netlify.toml`**

```toml
[build]
  command = "npm run build"
  publish = "dist"

[[redirects]]
  from = "/api/*"
  to = "/.netlify/functions/server/:splat"
  status = 200

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

2. **åœ¨ Netlify éƒ¨ç½²**

   - è®¿é—® https://www.netlify.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•
   - ç‚¹å‡» "Add new site" â†’ "Import an existing project"
   - é€‰æ‹© `wangyufeibj02/bk-file-manager`
   - é…ç½®æ„å»ºå‘½ä»¤ï¼š`npm run build`
   - ç‚¹å‡» "Deploy site"

3. **è®¿é—®é“¾æ¥**

   Netlify ä¼šæä¾›ç±»ä¼¼è¿™æ ·çš„é“¾æ¥ï¼š
   ```
   https://bk-file-manager.netlify.app
   ```

---

### æ–¹æ¡ˆä¸‰ï¼šRailway éƒ¨ç½²ï¼ˆæ¨èç”¨äºéœ€è¦æ•°æ®åº“çš„åº”ç”¨ï¼‰â­

Railway æ”¯æŒ Node.js åº”ç”¨å’Œæ•°æ®åº“ï¼Œéå¸¸é€‚åˆå…¨æ ˆé¡¹ç›®ã€‚

#### æ­¥éª¤ï¼š

1. **è®¿é—® Railway**

   - è®¿é—® https://railway.app
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºæ–°é¡¹ç›®**

   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹© `wangyufeibj02/bk-file-manager`

3. **é…ç½®ç¯å¢ƒå˜é‡**

   åœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
   ```
   PORT=3001
   NODE_ENV=production
   JWT_SECRET=your-secret-key
   ```

4. **è®¿é—®é“¾æ¥**

   Railway ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå…¬å¼€é“¾æ¥ï¼Œä¾‹å¦‚ï¼š
   ```
   https://bk-file-manager.up.railway.app
   ```

---

### æ–¹æ¡ˆå››ï¼šRender éƒ¨ç½²

Render æä¾›å…è´¹çš„å…¨æ ˆåº”ç”¨æ‰˜ç®¡ã€‚

#### æ­¥éª¤ï¼š

1. **è®¿é—® Render**

   - è®¿é—® https://render.com
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»º Web Service**

   - ç‚¹å‡» "New +" â†’ "Web Service"
   - è¿æ¥ GitHub ä»“åº“ `wangyufeibj02/bk-file-manager`
   - é…ç½®ï¼š
     - **Build Command**: `npm install && npm run build`
     - **Start Command**: `npm run dev:server`
     - **Environment**: Node

3. **è®¿é—®é“¾æ¥**

   Render ä¼šæä¾›ï¼š
   ```
   https://bk-file-manager.onrender.com
   ```

---

### æ–¹æ¡ˆäº”ï¼šGitHub Pagesï¼ˆä»…å‰ç«¯æ¼”ç¤ºï¼‰

å¦‚æœåªéœ€è¦å±•ç¤ºå‰ç«¯ç•Œé¢ï¼ˆä¸åŒ…å«åç«¯åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ GitHub Pagesã€‚

#### æ­¥éª¤ï¼š

1. **æ„å»ºå‰ç«¯**

```bash
npm run build
```

2. **é…ç½® GitHub Pages**

   - åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­
   - æ‰¾åˆ° "Pages" é€‰é¡¹
   - Source é€‰æ‹© `gh-pages` åˆ†æ”¯æˆ– `main` åˆ†æ”¯çš„ `/dist` ç›®å½•
   - ä¿å­˜

3. **è®¿é—®é“¾æ¥**

   GitHub Pages é“¾æ¥æ ¼å¼ï¼š
   ```
   https://wangyufeibj02.github.io/bk-file-manager/
   ```

   âš ï¸ **æ³¨æ„**ï¼šæ­¤æ–¹æ¡ˆä»…å±•ç¤ºå‰ç«¯ï¼Œåç«¯ API æ— æ³•ä½¿ç”¨ã€‚

---

## ğŸ”§ éƒ¨ç½²å‰å‡†å¤‡

### 1. ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env.production` æ–‡ä»¶ï¼ˆä¸è¦æäº¤åˆ° Gitï¼‰ï¼š

```env
PORT=3001
NODE_ENV=production
JWT_SECRET=your-production-secret-key-change-this
UPLOADS_DIR=./uploads
THUMBNAILS_DIR=./thumbnails
MAX_FILE_SIZE=104857600
```

### 2. æ•°æ®åº“é…ç½®

ç¡®ä¿æ•°æ®åº“æ–‡ä»¶è·¯å¾„æ­£ç¡®ï¼Œæˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®æ•°æ®åº“è¿æ¥ã€‚

### 3. æ„å»ºè„šæœ¬

ç¡®ä¿ `package.json` ä¸­æœ‰æ­£ç¡®çš„æ„å»ºè„šæœ¬ï¼š

```json
{
  "scripts": {
    "build": "tsc && vite build",
    "start": "node dist/server/index.js"
  }
}
```

---

## ğŸ“ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤ï¼ˆVercel CLIï¼‰

å¦‚æœæƒ³ä½¿ç”¨å‘½ä»¤è¡Œå¿«é€Ÿéƒ¨ç½²ï¼š

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²
vercel

# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
vercel --prod
```

---

## ğŸ”— åˆ†äº«é“¾æ¥

éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªå…¬å¼€é“¾æ¥ï¼Œä¾‹å¦‚ï¼š

- **Vercel**: `https://bk-file-manager.vercel.app`
- **Netlify**: `https://bk-file-manager.netlify.app`
- **Railway**: `https://bk-file-manager.up.railway.app`
- **Render**: `https://bk-file-manager.onrender.com`

ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªé“¾æ¥è®¿é—®ä½ çš„åº”ç”¨ï¼

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**
   - ç¡®ä¿ä¿®æ”¹é»˜è®¤å¯†ç 
   - ä½¿ç”¨å¼ºå¯†ç çš„ JWT_SECRET
   - ä¸è¦å°†æ•æ„Ÿä¿¡æ¯æäº¤åˆ° Git

2. **æ•°æ®åº“**
   - ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ PostgreSQL æˆ– MySQL
   - SQLite é€‚åˆå°å‹åº”ç”¨ï¼Œä½†å¹¶å‘æ€§èƒ½æœ‰é™

3. **æ–‡ä»¶å­˜å‚¨**
   - ä¸Šä¼ çš„æ–‡ä»¶ä¼šå ç”¨æœåŠ¡å™¨ç©ºé—´
   - è€ƒè™‘ä½¿ç”¨äº‘å­˜å‚¨ï¼ˆAWS S3, é˜¿é‡Œäº‘ OSS ç­‰ï¼‰

4. **æ€§èƒ½**
   - å…è´¹æ–¹æ¡ˆé€šå¸¸æœ‰èµ„æºé™åˆ¶
   - å¤§é‡æ–‡ä»¶æ—¶è€ƒè™‘å‡çº§åˆ°ä»˜è´¹æ–¹æ¡ˆ

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

å¦‚æœéƒ¨ç½²é‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. æ„å»ºæ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯
2. ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®
3. ç«¯å£æ˜¯å¦æ­£ç¡®è®¾ç½®
4. æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸

æ›´å¤šå¸®åŠ©è¯·æŸ¥çœ‹å„å¹³å°çš„æ–‡æ¡£æˆ–æäº¤ Issueã€‚
